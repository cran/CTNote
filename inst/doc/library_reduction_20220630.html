<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Gabriel Odom, Laura Brandt, Sean Luo, and Ray Balise" />

<meta name="date" content="2022-10-01" />

<title>CTNote Library: Reduction Outcomes</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>
<style type="text/css">detaiks.chunk-details > summary.chunk-summary {
text-align: right;
}
details.chunk-details[open] > summary.chunk-summary::after {
content: "Hide";
}
details.chunk-details[open] > summary.chunk-summary > span.chunk-summary-text {
display: none;
}
</style>
<script>$(document).ready(function(){
    if (typeof $('[data-toggle="tooltip"]').tooltip === 'function') {
        $('[data-toggle="tooltip"]').tooltip();
    }
    if ($('[data-toggle="popover"]').popover === 'function') {
        $('[data-toggle="popover"]').popover();
    }
});
</script>
<style type="text/css">
.lightable-minimal {
border-collapse: separate;
border-spacing: 16px 1px;
width: 100%;
margin-bottom: 10px;
}
.lightable-minimal td {
margin-left: 5px;
margin-right: 5px;
}
.lightable-minimal th {
margin-left: 5px;
margin-right: 5px;
}
.lightable-minimal thead tr:last-child th {
border-bottom: 2px solid #00000050;
empty-cells: hide;
}
.lightable-minimal tbody tr:first-child td {
padding-top: 0.5em;
}
.lightable-minimal.lightable-hover tbody tr:hover {
background-color: #f5f5f5;
}
.lightable-minimal.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-classic {
border-top: 0.16em solid #111111;
border-bottom: 0.16em solid #111111;
width: 100%;
margin-bottom: 10px;
margin: 10px 5px;
}
.lightable-classic tfoot tr td {
border: 0;
}
.lightable-classic tfoot tr:first-child td {
border-top: 0.14em solid #111111;
}
.lightable-classic caption {
color: #222222;
}
.lightable-classic td {
padding-left: 5px;
padding-right: 5px;
color: #222222;
}
.lightable-classic th {
padding-left: 5px;
padding-right: 5px;
font-weight: normal;
color: #222222;
}
.lightable-classic thead tr:last-child th {
border-bottom: 0.10em solid #111111;
}
.lightable-classic.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-classic.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-classic-2 {
border-top: 3px double #111111;
border-bottom: 3px double #111111;
width: 100%;
margin-bottom: 10px;
}
.lightable-classic-2 tfoot tr td {
border: 0;
}
.lightable-classic-2 tfoot tr:first-child td {
border-top: 3px double #111111;
}
.lightable-classic-2 caption {
color: #222222;
}
.lightable-classic-2 td {
padding-left: 5px;
padding-right: 5px;
color: #222222;
}
.lightable-classic-2 th {
padding-left: 5px;
padding-right: 5px;
font-weight: normal;
color: #222222;
}
.lightable-classic-2 tbody tr:last-child td {
border-bottom: 3px double #111111;
}
.lightable-classic-2 thead tr:last-child th {
border-bottom: 1px solid #111111;
}
.lightable-classic-2.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-classic-2.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-material {
min-width: 100%;
white-space: nowrap;
table-layout: fixed;
font-family: Roboto, sans-serif;
border: 1px solid #EEE;
border-collapse: collapse;
margin-bottom: 10px;
}
.lightable-material tfoot tr td {
border: 0;
}
.lightable-material tfoot tr:first-child td {
border-top: 1px solid #EEE;
}
.lightable-material th {
height: 56px;
padding-left: 16px;
padding-right: 16px;
}
.lightable-material td {
height: 52px;
padding-left: 16px;
padding-right: 16px;
border-top: 1px solid #eeeeee;
}
.lightable-material.lightable-hover tbody tr:hover {
background-color: #f5f5f5;
}
.lightable-material.lightable-striped tbody tr:nth-child(even) {
background-color: #f5f5f5;
}
.lightable-material.lightable-striped tbody td {
border: 0;
}
.lightable-material.lightable-striped thead tr:last-child th {
border-bottom: 1px solid #ddd;
}
.lightable-material-dark {
min-width: 100%;
white-space: nowrap;
table-layout: fixed;
font-family: Roboto, sans-serif;
border: 1px solid #FFFFFF12;
border-collapse: collapse;
margin-bottom: 10px;
background-color: #363640;
}
.lightable-material-dark tfoot tr td {
border: 0;
}
.lightable-material-dark tfoot tr:first-child td {
border-top: 1px solid #FFFFFF12;
}
.lightable-material-dark th {
height: 56px;
padding-left: 16px;
padding-right: 16px;
color: #FFFFFF60;
}
.lightable-material-dark td {
height: 52px;
padding-left: 16px;
padding-right: 16px;
color: #FFFFFF;
border-top: 1px solid #FFFFFF12;
}
.lightable-material-dark.lightable-hover tbody tr:hover {
background-color: #FFFFFF12;
}
.lightable-material-dark.lightable-striped tbody tr:nth-child(even) {
background-color: #FFFFFF12;
}
.lightable-material-dark.lightable-striped tbody td {
border: 0;
}
.lightable-material-dark.lightable-striped thead tr:last-child th {
border-bottom: 1px solid #FFFFFF12;
}
.lightable-paper {
width: 100%;
margin-bottom: 10px;
color: #444;
}
.lightable-paper tfoot tr td {
border: 0;
}
.lightable-paper tfoot tr:first-child td {
border-top: 1px solid #00000020;
}
.lightable-paper thead tr:last-child th {
color: #666;
vertical-align: bottom;
border-bottom: 1px solid #00000020;
line-height: 1.15em;
padding: 10px 5px;
}
.lightable-paper td {
vertical-align: middle;
border-bottom: 1px solid #00000010;
line-height: 1.15em;
padding: 7px 5px;
}
.lightable-paper.lightable-hover tbody tr:hover {
background-color: #F9EEC1;
}
.lightable-paper.lightable-striped tbody tr:nth-child(even) {
background-color: #00000008;
}
.lightable-paper.lightable-striped tbody td {
border: 0;
}
</style>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">CTNote Library: Reduction Outcomes</h1>
<h4 class="author">Gabriel Odom, Laura Brandt, Sean Luo, and Ray
Balise</h4>
<h4 class="date">2022-10-01</h4>


<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#substance-use-reduction-endpoints" id="toc-substance-use-reduction-endpoints">Substance Use Reduction
Endpoints</a>
<ul>
<li><a href="#comer_injectable_2006" id="toc-comer_injectable_2006"><span class="citation">Comer et al.
(2006)</span></a></li>
<li><a href="#eissenberg_dose-related_1997" id="toc-eissenberg_dose-related_1997"><span class="citation">Eissenberg
et al. (1997)</span></a></li>
<li><a href="#fiellin_counseling_2006" id="toc-fiellin_counseling_2006"><span class="citation">Fiellin et al.
(2006)</span></a></li>
<li><a href="#fudala_office-based_2003" id="toc-fudala_office-based_2003"><span class="citation">Fudala et al.
(2003)</span></a></li>
<li><a href="#haight_efficacy_2019" id="toc-haight_efficacy_2019"><span class="citation">Haight et al. (2019)</span></a></li>
<li><a href="#jaffe_methadyl_1972" id="toc-jaffe_methadyl_1972"><span class="citation">Jaffe et al. (1972)</span></a></li>
<li><a href="#johnson_controlled_1992" id="toc-johnson_controlled_1992"><span class="citation">Johnson, Jaffe,
and Fudala (1992)</span></a></li>
<li><a href="#kosten_buprenorphine_1993" id="toc-kosten_buprenorphine_1993"><span class="citation">Kosten et al.
(1993)</span></a></li>
<li><a href="#ling_buprenorphine_1998-a-and-c" id="toc-ling_buprenorphine_1998-a-and-c"><span class="citation">Ling et
al. (1998)</span> (A) and (C)</a></li>
<li><a href="#ling_buprenorphine_2010" id="toc-ling_buprenorphine_2010"><span class="citation">Ling et al.
(2010)</span></a></li>
<li><a href="#ling_methadyl_1976" id="toc-ling_methadyl_1976"><span class="citation">Ling et al. (1976)</span></a></li>
<li><a href="#lofwall_weekly_2018" id="toc-lofwall_weekly_2018"><span class="citation">Lofwall et al. (2018)</span></a></li>
<li><a href="#mattick_buprenorphine_2003-a-and-b" id="toc-mattick_buprenorphine_2003-a-and-b"><span class="citation">Mattick et al. (2003)</span> (A) and (B)</a></li>
<li><a href="#pani_buprenorphine_2000-a-and-b" id="toc-pani_buprenorphine_2000-a-and-b"><span class="citation">Pani et
al. (2000)</span> (A) and (B)</a></li>
<li><a href="#petitjean_double-blind_2001" id="toc-petitjean_double-blind_2001"><span class="citation">Petitjean et
al. (2001)</span></a></li>
<li><a href="#preston_methadone_2000" id="toc-preston_methadone_2000"><span class="citation">Preston,
Umbricht, and Epstein (2000)</span></a></li>
<li><a href="#schottenfeld_methadone_2005" id="toc-schottenfeld_methadone_2005"><span class="citation">Schottenfeld
et al. (2005)</span></a></li>
<li><a href="#schwartz_randomized_2006" id="toc-schwartz_randomized_2006"><span class="citation">Schwartz et al.
(2006)</span></a></li>
<li><a href="#shufman_efficacy_1994" id="toc-shufman_efficacy_1994"><span class="citation">Shufman et al.
(1994)</span></a></li>
<li><a href="#soyka_retention_2008" id="toc-soyka_retention_2008"><span class="citation">Soyka et al. (2008)</span></a></li>
<li><a href="#strain_dose-response_1993" id="toc-strain_dose-response_1993"><span class="citation">Strain et al.
(1993)</span></a></li>
<li><a href="#strain_comparison_1994" id="toc-strain_comparison_1994"><span class="citation">Strain et al.
(1994)</span></a></li>
<li><a href="#strain_buprenorphine_1996" id="toc-strain_buprenorphine_1996"><span class="citation">Strain et al.
(1996)</span></a></li>
<li><a href="#strain_moderate-_1999" id="toc-strain_moderate-_1999"><span class="citation">Strain et al.
(1999)</span></a></li>
<li><a href="#strang_supervised_2010" id="toc-strang_supervised_2010"><span class="citation">Strang et al.
(2010)</span></a></li>
<li><a href="#strang_extended-release_2019" id="toc-strang_extended-release_2019"><span class="citation">Strang et
al. (2019)</span></a></li>
<li><a href="#tanum_effectiveness_2017" id="toc-tanum_effectiveness_2017"><span class="citation">Tanum et al.
(2017)</span></a></li>
<li><a href="#wolstein_randomized_2009" id="toc-wolstein_randomized_2009"><span class="citation">Wolstein et al.
(2009)</span></a></li>
<li><a href="#woody_extended_2008" id="toc-woody_extended_2008"><span class="citation">Woody et al. (2008)</span></a></li>
<li><a href="#zaks_levomethadyl_1972" id="toc-zaks_levomethadyl_1972"><span class="citation">Zaks, Fink, and
Freedman (1972)</span></a></li>
</ul></li>
<li><a href="#computing-environment" id="toc-computing-environment">Computing Environment</a></li>
<li><a href="#references" id="toc-references">References</a></li>
</ul>
</div>

<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This document contains the algorithms necessary to code all the
outcomes which measure “substance use reduction”. We only include
outcomes which result in a single value per subject. These outcomes
are:</p>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; overflow-x: scroll; width:1000px; ">
<table class="table table-striped lightable-minimal" style="font-size: 11px; margin-left: auto; margin-right: auto; font-family: &quot;Trebuchet MS&quot;, verdana, sans-serif; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Group
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Endpoint
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Class
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Reference
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Definition
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
Missing is
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Comer et al., 2006
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of negative UOS during 8 weeks of treatment
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Eissenberg et al., 1997
</td>
<td style="text-align:left;width: 5cm; ">
subject retained in study at least 17 weeks AND subject showed 4
consecutive negative UDS between weeks 1-17
</td>
<td style="text-align:left;">
Imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Fiellin et al., 2006
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of negative UOS
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Fudala et al., 2003
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of negative UOS
</td>
<td style="text-align:left;">
Missing
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Haight et al., 2019
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of negative UOS from week 5 to week 24
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Jaffe et al., 1972
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of treatment weeks characterized by negative UOS for patients
who completed ≥8 weeks of the study
</td>
<td style="text-align:left;">
Imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Johnson et al., 1992
</td>
<td style="text-align:left;width: 5cm; ">
Average percentage of negative UOS
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
logical
</td>
<td style="text-align:left;width: 3cm; ">
Kosten et al., 1993
</td>
<td style="text-align:left;width: 5cm; ">
≥70% negative UOS during the 24-week trial period
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Ling et al., 1998
</td>
<td style="text-align:left;width: 5cm; ">
Mean percentage negative UOS
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
integer
</td>
<td style="text-align:left;width: 3cm; ">
Ling et al., 1998
</td>
<td style="text-align:left;width: 5cm; ">
no. of negative UOS (“treatment effectiveness score”)
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Ling et al., 2010
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of negative UOS during weeks 1-16 of the trial
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Ling, Charuvastra, Kaim, &amp; Klett, 1976
</td>
<td style="text-align:left;width: 5cm; ">
Index of illicit morphine use ([0, 120])
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Lofwall et al., 2018
</td>
<td style="text-align:left;width: 5cm; ">
Mean percentage of negative UOS for weeks 1 to 24
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Mattick et al., 2003
</td>
<td style="text-align:left;width: 5cm; ">
“Percentage of clean urines (PCU)”: Rate of negative UOS for the time
that the patient remained in the study
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Mattick et al., 2003
</td>
<td style="text-align:left;width: 5cm; ">
“treatment effectiveness percentage (TEP)”: Rate of negative UOS for the
full 13‐week study (ITT)
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Pani, Maremmani, Pirastu, Tagliamonte, &amp; Gessa, 2000
</td>
<td style="text-align:left;width: 5cm; ">
PCC: Percentage ratio of negative UOS and the total number of UOS
carried out for each patient during the period of treatment
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Pani, Maremmani, Pirastu, Tagliamonte, &amp; Gessa, 2000
</td>
<td style="text-align:left;width: 5cm; ">
TEC: Percentage ratio between the number of negative UOS and the number
of UOS as per protocol
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Petitjean et al., 2001
</td>
<td style="text-align:left;width: 5cm; ">
Weekly proportion of positive UOS (intent-to-treat and completer
analysis)
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Preston, Umbricht, &amp; Epstein, 2000
</td>
<td style="text-align:left;width: 5cm; ">
“Mean intervention percent negative”: Percentage of negative UOS in the
treatment phase
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Schottenfeld et al., 2005
</td>
<td style="text-align:left;width: 5cm; ">
Proportion of negative UOS
</td>
<td style="text-align:left;">
Missing
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
integer
</td>
<td style="text-align:left;width: 3cm; ">
Schwartz et al., 2006
</td>
<td style="text-align:left;width: 5cm; ">
Number of positive UOS at 120-day follow-up
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Shufman et al., 1994
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of positive UOS
</td>
<td style="text-align:left;">
Missing
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Soyka, Zingg, Koller, &amp; Kuefner, 2008
</td>
<td style="text-align:left;width: 5cm; ">
Monthly rates of positive UOS
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Strain, Bigelow, Liebson, &amp; Stitzer, 1999
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of positive UOS
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Strain, Stitzer, Liebson, &amp; Bigelow, 1993
</td>
<td style="text-align:left;width: 5cm; ">
Rate of positive UOS through the end of the stable dosing period
</td>
<td style="text-align:left;">
Not defined
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Strain, Stitzer, Liebson, &amp; Bigelow, 1994
</td>
<td style="text-align:left;width: 5cm; ">
Overall rate of positive UOS
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Strain, Stitzer, Liebson, &amp; Bigelow, 1996
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of positive UOS – Overall AND summarized in consecutive
2-week blocks
</td>
<td style="text-align:left;">
Missing/not imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
logical
</td>
<td style="text-align:left;width: 3cm; ">
Strang et al., 2010
</td>
<td style="text-align:left;width: 5cm; ">
≥50% negative UOS during weeks 14-26
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Strang et al., 2019
</td>
<td style="text-align:left;width: 5cm; ">
Proportion of negative UOS at the end of the 12‐week post-randomization
time point
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
NA
</td>
<td style="text-align:left;width: 3cm; ">
Tanum et al., 2017
</td>
<td style="text-align:left;width: 5cm; ">
Rate of negative UOS: Number of negative UOS divided by the total number
of attended tests (group proportion)
</td>
<td style="text-align:left;">
Positive
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Rate of negative UOS
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Wolstein et al., 2009
</td>
<td style="text-align:left;width: 5cm; ">
Number of negative UOS per number of weeks of study participation
</td>
<td style="text-align:left;">
Unknown
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
ratio
</td>
<td style="text-align:left;width: 3cm; ">
Woody et al., 2008
</td>
<td style="text-align:left;width: 5cm; ">
Percentage of positive UOS at weeks 4, 8, and 12
</td>
<td style="text-align:left;">
Imputed
</td>
</tr>
<tr>
<td style="text-align:left;width: 3cm; ">
Reduction
</td>
<td style="text-align:left;width: 3cm; ">
Opioid use rate
</td>
<td style="text-align:left;width: 3cm; ">
integer
</td>
<td style="text-align:left;width: 3cm; ">
Zaks, Fink, &amp; Freedman, 1972
</td>
<td style="text-align:left;width: 5cm; ">
Number of positive UOS
</td>
<td style="text-align:left;">
Not defined
</td>
</tr>
</tbody>
</table>
</div>
<p>We will use the table of participant opioid use patterns from the
<code>ctn0094DataExtra</code> package to calculate these endpoints (we
have a copy of the endpoints in the dataset
<code>outcomesCTN0094</code>). Importantly, if you wish to apply these
algorithms to calculate endpoints for your data, the participants’
substance use patterns must be stored in the “substance use pattern
word” format shown here. We also show a subset of the data to visualize
a variety of different real substance use patterns.</p>
<p>We first define the following five-value legend:</p>
<ul>
<li><strong>+</strong>: positive for the substance(s) in a specified
window of time (a day, week, month, etc.) by urine screen (or
participant self report, if such data are of interest)</li>
<li><strong>–</strong>: negative for the substance(s)</li>
<li><strong>o</strong>: subject failed to provide a urine sample</li>
<li><b>*</b>: inconclusive results or mixed results (e.g. subject
provided more than one urine sample in the time interval and they did
not agree)</li>
<li><b>_</b>: no specimens required (weekends, holidays,
pre-randomization period, alternating visit days/weeks)</li>
</ul>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">###  Full Data  </span><span class="al">###</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>udsOutcomes_df <span class="ot">&lt;-</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    CTNote<span class="sc">::</span>outcomesCTN0094 <span class="sc">%&gt;%</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a copy</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> udsOutcomes_df</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="do">###  Examples  </span><span class="al">###</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>examplePeople_int <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">163</span>, <span class="dv">210</span>, <span class="dv">242</span>, <span class="dv">4</span>, <span class="dv">17</span>, <span class="dv">13</span>, <span class="dv">1103</span>, <span class="dv">233</span>, <span class="dv">2089</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 2
##      who usePatternUDS                      
##    &lt;dbl&gt; &lt;chr&gt;                              
##  1     1 ooooooooooooooo                    
##  2     4 -------------------o-o-o           
##  3    13 ------------o-oooooooooo           
##  4    17 --++*++++++-++++++-+++-            
##  5   163 -o---o---o--o+----------           
##  6   210 -++++++++-+++-----------           
##  7   233 *+++++++++++o++++++++++o           
##  8   242 -----------------------            
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o
## 10  2089 ++++---+--------------o-</code></pre>
<p>For example, participant 1 has a use pattern
<code>ooooooooooooooo</code> (all missing UDS), which means that they
dropped out of the study. In contrast, participant 233 has a use pattern
<code>*+++++++++++o++++++++++o</code> (nearly all positive UDS): they
did not drop out of the study, but the treatment was completely
ineffective for them. Participant 2089 started the study in a rough
patch, but greatly improved in treatment over time
(<code>++++---+--------------o-</code>).</p>
<hr />
<p></br></p>
</div>
<div id="substance-use-reduction-endpoints" class="section level1">
<h1>Substance Use Reduction Endpoints</h1>
<div id="comer_injectable_2006" class="section level2">
<h2><span class="citation">Comer et al. (2006)</span></h2>
<p><strong>Definition</strong>: Percentage of negative UOS during 8
weeks of treatment</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">comer2006_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># first 8 weeks of treatment</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">8</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, comer2006_red) <span class="sc">%&gt;%</span> </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, comer2006_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       comer2006_red
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                            0     
##  2     4 -------------------o-o-o                   1     
##  3    13 ------------o-oooooooooo                   1     
##  4    17 --++*++++++-++++++-+++-                    0.312 
##  5   163 -o---o---o--o+----------                   0.75  
##  6   210 -++++++++-+++-----------                   0.125 
##  7   233 *+++++++++++o++++++++++o                   0.0625
##  8   242 -----------------------                    1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o        0.5   
## 10  2089 ++++---+--------------o-                   0.375</code></pre>
</div>
<div id="eissenberg_dose-related_1997" class="section level2">
<h2><span class="citation">Eissenberg et al. (1997)</span></h2>
<p><strong>Definition</strong>: subject retained in study at least 17
weeks AND subject showed 4 consecutive negative UDS between weeks
1-17</p>
<p>From <a href="https://pubmed.ncbi.nlm.nih.gov/9200635/">their
paper</a>, we read “Where urinalysis data were missing for an entire
week (5 of 1836 data points; 0.3%) the average of that patient’s results
from the 2 weeks surrounding the missing week was substituted for the
missing value.” Also, because some of our trials only retained subjects
for 15-16 weeks, we changed the cutoff to 15 weeks in order to apply
this definition to our data.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check for 15 weeks of participation</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">completedProtocol =</span> <span class="fu">measure_retention</span>(usePatternUDS) <span class="sc">&gt;=</span> <span class="dv">15</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Impute local missings</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">useImputed =</span> <span class="fu">impute_missing_visits</span>(</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">method =</span> <span class="st">&quot;kNV&quot;</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">knvWeights_num =</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">o</span><span class="st">`</span> <span class="ot">=</span> <span class="cn">NA</span>, <span class="st">`</span><span class="at">+</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">*</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">0.5</span>, <span class="st">`</span><span class="at">-</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">0</span>),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">quietly =</span> <span class="cn">TRUE</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># detect 4 consecutive negative UDS</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">consecNeg =</span> <span class="fu">detect_subpattern</span>(</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> useImputed,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">subpattern =</span> <span class="st">&quot;----&quot;</span>,</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>            <span class="co"># we use 15 weeks of study (instead of 17)</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">15</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># non-participation penalty: if the participant didn&#39;t stay in the study the</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   whole time, then the treatment was a failure</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">eissenberg1997_isAbs =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>            completedProtocol  <span class="sc">~</span> consecNeg,</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>            <span class="sc">!</span>completedProtocol <span class="sc">~</span> <span class="cn">FALSE</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, eissenberg1997_isAbs) <span class="sc">%&gt;%</span> </span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, eissenberg1997_isAbs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       eissenberg1997_isAbs
##    &lt;dbl&gt; &lt;chr&gt;                               &lt;lgl&gt;               
##  1     1 ooooooooooooooo                     FALSE               
##  2     4 -------------------o-o-o            TRUE                
##  3    13 ------------o-oooooooooo            FALSE               
##  4    17 --++*++++++-++++++-+++-             FALSE               
##  5   163 -o---o---o--o+----------            TRUE                
##  6   210 -++++++++-+++-----------            FALSE               
##  7   233 *+++++++++++o++++++++++o            FALSE               
##  8   242 -----------------------             TRUE                
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o TRUE                
## 10  2089 ++++---+--------------o-            TRUE</code></pre>
</div>
<div id="fiellin_counseling_2006" class="section level2">
<h2><span class="citation">Fiellin et al. (2006)</span></h2>
<p><strong>Definition</strong>: Percentage of negative UOS</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">fiellin2006_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, fiellin2006_red) <span class="sc">%&gt;%</span> </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, fiellin2006_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       fiellin2006_red
##    &lt;dbl&gt; &lt;chr&gt;                                         &lt;dbl&gt;
##  1     1 ooooooooooooooo                              0     
##  2     4 -------------------o-o-o                     0.875 
##  3    13 ------------o-oooooooooo                     0.542 
##  4    17 --++*++++++-++++++-+++-                      0.239 
##  5   163 -o---o---o--o+----------                     0.792 
##  6   210 -++++++++-+++-----------                     0.542 
##  7   233 *+++++++++++o++++++++++o                     0.0208
##  8   242 -----------------------                      1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o          0.571 
## 10  2089 ++++---+--------------o-                     0.75</code></pre>
</div>
<div id="fudala_office-based_2003" class="section level2">
<h2><span class="citation">Fudala et al. (2003)</span></h2>
<p><strong>Definition</strong>: Percentage of negative UOS; they exclude
missing values.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Drop weeks with missing UDS</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternPresent =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>            usePatternUDS,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">fudala2003_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternPresent,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, fudala2003_red) <span class="sc">%&gt;%</span> </span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, fudala2003_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       fudala2003_red
##    &lt;dbl&gt; &lt;chr&gt;                                        &lt;dbl&gt;
##  1     1 ooooooooooooooo                             0     
##  2     4 -------------------o-o-o                    1     
##  3    13 ------------o-oooooooooo                    1     
##  4    17 --++*++++++-++++++-+++-                     0.239 
##  5   163 -o---o---o--o+----------                    0.95  
##  6   210 -++++++++-+++-----------                    0.542 
##  7   233 *+++++++++++o++++++++++o                    0.0227
##  8   242 -----------------------                     1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o         0.769 
## 10  2089 ++++---+--------------o-                    0.783</code></pre>
</div>
<div id="haight_efficacy_2019" class="section level2">
<h2><span class="citation">Haight et al. (2019)</span></h2>
<p><strong>Definition</strong>: Percentage of negative UOS from week 5
to week 24</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">haight2019_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># The end-of-protocol for our trials is 15-16 weeks</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">5</span>, <span class="at">end =</span> <span class="dv">15</span>,</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, haight2019_red) <span class="sc">%&gt;%</span> </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, haight2019_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       haight2019_red
##    &lt;dbl&gt; &lt;chr&gt;                                        &lt;dbl&gt;
##  1     1 ooooooooooooooo                              0    
##  2     4 -------------------o-o-o                     1    
##  3    13 ------------o-oooooooooo                     0.818
##  4    17 --++*++++++-++++++-+++-                      0.136
##  5   163 -o---o---o--o+----------                     0.636
##  6   210 -++++++++-+++-----------                     0.273
##  7   233 *+++++++++++o++++++++++o                     0    
##  8   242 -----------------------                      1    
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o          0.545
## 10  2089 ++++---+--------------o-                     0.909</code></pre>
</div>
<div id="jaffe_methadyl_1972" class="section level2">
<h2><span class="citation">Jaffe et al. (1972)</span></h2>
<p><strong>Definition</strong>: Percentage of treatment weeks
characterized by negative UOS for patients who completed ≥8 weeks of the
study; and missing values were imputed to the mode for each
participant.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mark if participants completed 8 weeks of treatment; remove those who do not</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   (but we will add them back in at the end)</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lastWeek_idx =</span> <span class="fu">measure_retention</span>(<span class="at">use_pattern =</span> usePatternUDS)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(lastWeek_idx <span class="sc">&gt;=</span> <span class="dv">8</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># For participants who stayed in the trials at least 8 weeks, impute their</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   missing weeks to their personal most common UDS result; in the event of a</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   tie between a negative and a positive result for the mode, the tiebreaker</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   is a positive result.</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternImputed =</span> <span class="fu">impute_missing_visits</span>(</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">method =</span> <span class="st">&quot;mode&quot;</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">jaffe1972_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>            usePatternImputed,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, jaffe1972_red) <span class="sc">%&gt;%</span> </span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Lots of NAs from the participants who did not make it to week 8; replace</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   these NAs with 0</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">jaffe1972_red =</span> <span class="dv">0</span>))</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, jaffe1972_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       jaffe1972_red
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                            0     
##  2     4 -------------------o-o-o                   1     
##  3    13 ------------o-oooooooooo                   1     
##  4    17 --++*++++++-++++++-+++-                    0.239 
##  5   163 -o---o---o--o+----------                   0.958 
##  6   210 -++++++++-+++-----------                   0.542 
##  7   233 *+++++++++++o++++++++++o                   0.0208
##  8   242 -----------------------                    1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o        0.829 
## 10  2089 ++++---+--------------o-                   0.792</code></pre>
</div>
<div id="johnson_controlled_1992" class="section level2">
<h2><span class="citation">Johnson, Jaffe, and Fudala (1992)</span></h2>
<p><strong>Definitions</strong>: Average percentage of negative UOS</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">johnson1992_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, johnson1992_red) <span class="sc">%&gt;%</span> </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, johnson1992_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       johnson1992_red
##    &lt;dbl&gt; &lt;chr&gt;                                         &lt;dbl&gt;
##  1     1 ooooooooooooooo                              0     
##  2     4 -------------------o-o-o                     0.875 
##  3    13 ------------o-oooooooooo                     0.542 
##  4    17 --++*++++++-++++++-+++-                      0.239 
##  5   163 -o---o---o--o+----------                     0.792 
##  6   210 -++++++++-+++-----------                     0.542 
##  7   233 *+++++++++++o++++++++++o                     0.0208
##  8   242 -----------------------                      1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o          0.571 
## 10  2089 ++++---+--------------o-                     0.75</code></pre>
</div>
<div id="kosten_buprenorphine_1993" class="section level2">
<h2><span class="citation">Kosten et al. (1993)</span></h2>
<p><strong>Definition</strong>: ≥70% negative UOS during the 24-week
trial period; missing UDS are excluded</p>
<p>Note: there are multiple definitions of treatment failure in this
paper; we provide an algorithm for the definition which results in a
single value for each participant.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Exclude missing visits</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternPresent =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>            usePatternUDS,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">kosten1993B_prop =</span> <span class="fu">count_matches</span>(</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternPresent,</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">end =</span> <span class="dv">15</span>,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">kosten1993B_red =</span> kosten1993B_prop <span class="sc">&gt;=</span> <span class="fl">0.7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, kosten1993B_red) <span class="sc">%&gt;%</span> </span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, kosten1993B_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       kosten1993B_red
##    &lt;dbl&gt; &lt;chr&gt;                               &lt;lgl&gt;          
##  1     1 ooooooooooooooo                     FALSE          
##  2     4 -------------------o-o-o            TRUE           
##  3    13 ------------o-oooooooooo            TRUE           
##  4    17 --++*++++++-++++++-+++-             FALSE          
##  5   163 -o---o---o--o+----------            TRUE           
##  6   210 -++++++++-+++-----------            FALSE          
##  7   233 *+++++++++++o++++++++++o            FALSE          
##  8   242 -----------------------             TRUE           
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o TRUE           
## 10  2089 ++++---+--------------o-            FALSE</code></pre>
</div>
<div id="ling_buprenorphine_1998-a-and-c" class="section level2">
<h2><span class="citation">Ling et al. (1998)</span> (A) and (C)</h2>
<p>There are two definitions from <a href="https://pubmed.ncbi.nlm.nih.gov/9684386/">this paper</a> which we
include in the reduction section our library: Mean percentage negative
UOS and no. of negative UOS (“treatment effectiveness score”). Both of
these outcome definitions <strong>exclude</strong> missing UDS. We also
include an abstinence endpoint from this paper in our “abstinence and
relapse endpoints” section.</p>
<div id="ling-et-al.-1998-a" class="section level3">
<h3>Ling et al., 1998 (A)</h3>
<p><strong>Definition</strong>: Mean percentage negative UOS</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Exclude missing UDS</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternPresent =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>            usePatternUDS,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">ling1998A_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternPresent,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">15</span>,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, ling1998A_red) <span class="sc">%&gt;%</span> </span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, ling1998A_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       ling1998A_red
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                            0     
##  2     4 -------------------o-o-o                   1     
##  3    13 ------------o-oooooooooo                   1     
##  4    17 --++*++++++-++++++-+++-                    0.233 
##  5   163 -o---o---o--o+----------                   0.933 
##  6   210 -++++++++-+++-----------                   0.267 
##  7   233 *+++++++++++o++++++++++o                   0.0333
##  8   242 -----------------------                    1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o        0.733 
## 10  2089 ++++---+--------------o-                   0.667</code></pre>
</div>
<div id="ling-et-al.-1998-c" class="section level3">
<h3>Ling et al., 1998 (C)</h3>
<p><strong>Definition</strong>: no. of negative UOS (“treatment
effectiveness score”)</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ling1998C_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">end =</span> <span class="dv">15</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_weight =</span> <span class="fl">0.5</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, ling1998C_red) <span class="sc">%&gt;%</span> </span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, ling1998C_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       ling1998C_red
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                               0  
##  2     4 -------------------o-o-o                     15  
##  3    13 ------------o-oooooooooo                     13  
##  4    17 --++*++++++-++++++-+++-                       3.5
##  5   163 -o---o---o--o+----------                     10  
##  6   210 -++++++++-+++-----------                      4  
##  7   233 *+++++++++++o++++++++++o                      0.5
##  8   242 -----------------------                      15  
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o           8  
## 10  2089 ++++---+--------------o-                     10</code></pre>
</div>
</div>
<div id="ling_buprenorphine_2010" class="section level2">
<h2><span class="citation">Ling et al. (2010)</span></h2>
<p><strong>Definition</strong>: Percentage of negative UOS during weeks
1-16 of the trial</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">ling2010_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># We only have 15 weeks of data from some arms</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">15</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, ling2010_red) <span class="sc">%&gt;%</span> </span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, ling2010_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       ling2010_red
##    &lt;dbl&gt; &lt;chr&gt;                                      &lt;dbl&gt;
##  1     1 ooooooooooooooo                           0     
##  2     4 -------------------o-o-o                  1     
##  3    13 ------------o-oooooooooo                  0.867 
##  4    17 --++*++++++-++++++-+++-                   0.233 
##  5   163 -o---o---o--o+----------                  0.667 
##  6   210 -++++++++-+++-----------                  0.267 
##  7   233 *+++++++++++o++++++++++o                  0.0333
##  8   242 -----------------------                   1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o       0.533 
## 10  2089 ++++---+--------------o-                  0.667</code></pre>
</div>
<div id="ling_methadyl_1976" class="section level2">
<h2><span class="citation">Ling et al. (1976)</span></h2>
<p><strong>Definition</strong>: Index of illicit morphine use ([0,
120])</p>
<div id="original" class="section level3">
<h3>Original</h3>
<p>The definition in <a href="https://doi.org/10.1001/archpsyc.1976.01770060043007">this
paper</a> is quite complex, but very well thought out. It is one of our
favorite MOUD treatment endpoints because of its flexibility.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rule 1: mark induction failures</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The Ling et al. protocol lasted 40 weeks while requiring 7 weeks of data for</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   the subjects to be counted as &quot;estimable participants&quot;; our 3 studies each</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   lasted at least 15 weeks. Therefore, we should require at least</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   (7/40) * 15) ~= 3 weeks of data to consider a participant &quot;estimable&quot;</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">inductFail =</span> <span class="fu">measure_retention</span>(usePatternUDS) <span class="sc">&lt;=</span> <span class="dv">3</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternTrunc =</span> <span class="fu">str_sub</span>(usePatternUDS, <span class="at">end =</span> <span class="dv">15</span>)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Rules 2-4: weighting and scaling visits. The flexibility here is amazing.</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   If we think that dropout is worse than positive, then we can reflect that</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   in the weights. Ling et al. counted a missing visit as 0.22 of a positive;</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   and they use a step function to increase the penalty of a positive UDS </span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   over time.</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">ling1976o22_use =</span> <span class="fu">weight_positive_visits</span>(</span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternTrunc,</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">weights_num =</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">1.0</span>, <span class="st">`</span><span class="at">*</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">0.5</span>, <span class="st">`</span><span class="at">o</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">0.22</span>, <span class="st">`</span><span class="at">-</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">0</span>),</span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">posPenalty_num =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">each =</span> <span class="dv">3</span>) <span class="co"># step function for 15 weeks</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">ling1976o22_use =</span> <span class="fu">case_when</span>(</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>            inductFail  <span class="sc">~</span> <span class="dv">120</span>,</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>            <span class="sc">!</span>inductFail <span class="sc">~</span> ling1976o22_use</span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">ling1976o22_abs =</span> <span class="dv">120</span> <span class="sc">-</span> ling1976o22_use</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, ling1976o22_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, ling1976o22_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       ling1976o22_abs
##    &lt;dbl&gt; &lt;chr&gt;                                         &lt;dbl&gt;
##  1     1 ooooooooooooooo                                 0  
##  2     4 -------------------o-o-o                      120  
##  3    13 ------------o-oooooooooo                      119. 
##  4    17 --++*++++++-++++++-+++-                        18.7
##  5   163 -o---o---o--o+----------                      104. 
##  6   210 -++++++++-+++-----------                       40  
##  7   233 *+++++++++++o++++++++++o                       14.1
##  8   242 -----------------------                       120  
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o            88.9
## 10  2089 ++++---+--------------o-                       98.7</code></pre>
</div>
<div id="a-variant" class="section level3">
<h3>A Variant</h3>
<p>We also include a variant of this definition which includes a greater
penalty for missing values and a smooth function to increase weights of
positive UDS.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">inductFail =</span> <span class="fu">measure_retention</span>(usePatternUDS) <span class="sc">&lt;=</span> <span class="dv">3</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternTrunc =</span> <span class="fu">str_sub</span>(usePatternUDS, <span class="at">end =</span> <span class="dv">15</span>)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">ling1976o100_use =</span> <span class="fu">weight_positive_visits</span>(</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternTrunc,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Higher weight for missing values</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">weights_num =</span> <span class="fu">c</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">0.8</span>, <span class="st">`</span><span class="at">*</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">0.4</span>, <span class="st">`</span><span class="at">o</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">1.0</span>, <span class="st">`</span><span class="at">-</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">0</span>),</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Smooth penalty function for increasing positive UDS</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">posPenalty_num =</span> <span class="fu">seq</span>(</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>                <span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">5</span>, <span class="at">length.out =</span> <span class="fu">str_length</span>(usePatternTrunc)</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">ling1976o100_use =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>            inductFail  <span class="sc">~</span> <span class="dv">120</span>,</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>            <span class="sc">!</span>inductFail <span class="sc">~</span> ling1976o100_use</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">ling1976o100_abs =</span> <span class="dv">120</span> <span class="sc">-</span> ling1976o100_use</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, ling1976o100_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, ling1976o100_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       ling1976o100_abs
##    &lt;dbl&gt; &lt;chr&gt;                                          &lt;dbl&gt;
##  1     1 ooooooooooooooo                                  0  
##  2     4 -------------------o-o-o                       120  
##  3    13 ------------o-oooooooooo                       113. 
##  4    17 --++*++++++-++++++-+++-                         20.6
##  5   163 -o---o---o--o+----------                        94.2
##  6   210 -++++++++-+++-----------                        38.5
##  7   233 *+++++++++++o++++++++++o                        10.4
##  8   242 -----------------------                        120  
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o             82.0
## 10  2089 ++++---+--------------o-                        96.9</code></pre>
</div>
</div>
<div id="lofwall_weekly_2018" class="section level2">
<h2><span class="citation">Lofwall et al. (2018)</span></h2>
<p><strong>Definition</strong>: Mean percentage of negative UOS for
weeks 1 to 24; but urine screens are collected each week for the first
12 weeks, then every other week for weeks 13-24. We project this onto a
15-16 week protocol by requiring UDS each week for the first 7 weeks,
then every other week for the next 8. Then, we impute the skipped weeks
to be whatever the value of the UDS was from the last visit.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="do">###  Define a Visit Pattern (Lattice)  </span><span class="al">###</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>lofwallLattice_char <span class="ot">&lt;-</span> <span class="fu">collapse_lattice</span>(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">lattice_patterns =</span> <span class="fu">c</span>(<span class="st">&quot;o&quot;</span>, <span class="st">&quot;_o&quot;</span>),</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># For the lattice as defined over 24 weeks, you need 12 weeks of weekly visits</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   and 6 sets of alternating &quot;no visit&quot; and &quot;visit&quot; week pairs, or c(12, 6).</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   For us, we want 7 weeks straight of weekly visits followed by 4 pairs of</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   alternating visits (8 weeks) for a total of 15 weeks.</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">times =</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">4</span>)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>lofwallLattice_char</span></code></pre></div>
</details>
<pre><code>## [1] &quot;ooooooo_o_o_o_o&quot;</code></pre>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="do">###  Calculate the Endpoint  </span><span class="al">###</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Mark all missing UDS as positive</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsPattern =</span> <span class="fu">recode_missing_visits</span>(usePatternUDS)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># View the current use pattern &quot;through&quot; the Lofwall protocol</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsLattice =</span> <span class="fu">view_by_lattice</span>(</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsPattern,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">lattice_pattern =</span> <span class="fu">str_sub</span>(lofwallLattice_char, <span class="at">end =</span> <span class="dv">15</span>) <span class="co"># first 15 weeks</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Impute the visits from the &quot;unobserved&quot; weeks to the last observed week</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsLatticeLOCF =</span> <span class="fu">impute_missing_visits</span>(</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsLattice,</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">method =</span> <span class="st">&quot;locf&quot;</span>,</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>            <span class="co"># This is only imputing values that we wouldn&#39;t have seen because of the</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>            <span class="co">#   protocol (&quot;_&quot; means missing by design; &quot;o&quot; means missing)</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_is =</span> <span class="st">&quot;_&quot;</span>,</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">quietly =</span> <span class="cn">TRUE</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">lofwall2018_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsLatticeLOCF,</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">15</span>, <span class="co"># first 15 weeks</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, lofwall2018_red) <span class="sc">%&gt;%</span> </span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, lofwall2018_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       lofwall2018_red
##    &lt;dbl&gt; &lt;chr&gt;                                         &lt;dbl&gt;
##  1     1 ooooooooooooooo                              0     
##  2     4 -------------------o-o-o                     1     
##  3    13 ------------o-oooooooooo                     0.8   
##  4    17 --++*++++++-++++++-+++-                      0.167 
##  5   163 -o---o---o--o+----------                     0.733 
##  6   210 -++++++++-+++-----------                     0.133 
##  7   233 *+++++++++++o++++++++++o                     0.0333
##  8   242 -----------------------                      1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o          0.333 
## 10  2089 ++++---+--------------o-                     0.733</code></pre>
</div>
<div id="mattick_buprenorphine_2003-a-and-b" class="section level2">
<h2><span class="citation">Mattick et al. (2003)</span> (A) and (B)</h2>
<p>There are also two definitions from <a href="https://pubmed.ncbi.nlm.nih.gov/12653814/">this paper</a> included
in our library.</p>
<div id="mattick-et-al.-2003-a" class="section level3">
<h3>Mattick et al., 2003 (A)</h3>
<p><strong>Definition</strong>: “Percentage of clean urines (PCU)”: Rate
of negative UOS for the time that the patient remained in the study</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find out how long the participant stayed in the study</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lastWeek_idx =</span> <span class="fu">measure_retention</span>(<span class="at">use_pattern =</span> usePatternUDS)) <span class="sc">%&gt;%</span> </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">mattick2003A_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Measure proportion of negative UDS only during study participation</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> lastWeek_idx,</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, mattick2003A_red) <span class="sc">%&gt;%</span> </span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, mattick2003A_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       mattick2003A_red
##    &lt;dbl&gt; &lt;chr&gt;                                          &lt;dbl&gt;
##  1     1 ooooooooooooooo                               0     
##  2     4 -------------------o-o-o                      0.913 
##  3    13 ------------o-oooooooooo                      0.929 
##  4    17 --++*++++++-++++++-+++-                       0.239 
##  5   163 -o---o---o--o+----------                      0.792 
##  6   210 -++++++++-+++-----------                      0.542 
##  7   233 *+++++++++++o++++++++++o                      0.0217
##  8   242 -----------------------                       1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o           0.588 
## 10  2089 ++++---+--------------o-                      0.75</code></pre>
</div>
<div id="mattick-et-al.-2003-b" class="section level3">
<h3>Mattick et al., 2003 (B)</h3>
<p><strong>Definition</strong>: “treatment effectiveness percentage
(TEP)”: Rate of negative UOS for the full 13‐week study (ITT)</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">mattick2003B_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># They used a 13-week protocol</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">13</span>,</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, mattick2003B_red) <span class="sc">%&gt;%</span> </span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, mattick2003B_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       mattick2003B_red
##    &lt;dbl&gt; &lt;chr&gt;                                          &lt;dbl&gt;
##  1     1 ooooooooooooooo                               0     
##  2     4 -------------------o-o-o                      1     
##  3    13 ------------o-oooooooooo                      0.923 
##  4    17 --++*++++++-++++++-+++-                       0.269 
##  5   163 -o---o---o--o+----------                      0.692 
##  6   210 -++++++++-+++-----------                      0.154 
##  7   233 *+++++++++++o++++++++++o                      0.0385
##  8   242 -----------------------                       1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o           0.462 
## 10  2089 ++++---+--------------o-                      0.615</code></pre>
</div>
</div>
<div id="pani_buprenorphine_2000-a-and-b" class="section level2">
<h2><span class="citation">Pani et al. (2000)</span> (A) and (B)</h2>
<p>There are also two definitions from <a href="https://doi.org/10.1016/S0376-8716(00)80006-X">this paper</a>
included in our library.</p>
<div id="pani-et-al.-2000-a" class="section level3">
<h3>Pani et al., 2000 (A)</h3>
<p><strong>Definition</strong>: PCC: Percentage ratio of negative UOS
and the total number of UOS carried out for each patient during the
period of treatment</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove weeks where participant failed to provide UDS</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternPresent =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>            usePatternUDS,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">pani2000A_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternPresent,</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, pani2000A_red) <span class="sc">%&gt;%</span> </span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, pani2000A_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       pani2000A_red
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                            0     
##  2     4 -------------------o-o-o                   1     
##  3    13 ------------o-oooooooooo                   1     
##  4    17 --++*++++++-++++++-+++-                    0.239 
##  5   163 -o---o---o--o+----------                   0.95  
##  6   210 -++++++++-+++-----------                   0.542 
##  7   233 *+++++++++++o++++++++++o                   0.0227
##  8   242 -----------------------                    1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o        0.769 
## 10  2089 ++++---+--------------o-                   0.783</code></pre>
</div>
<div id="pani-et-al.-2000-b" class="section level3">
<h3>Pani et al., 2000 (B)</h3>
<p><strong>Definition</strong>: TEC: Percentage ratio between the number
of negative UOS and the number of UOS as per protocol</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">pani2000B_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, pani2000B_red) <span class="sc">%&gt;%</span> </span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, pani2000B_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       pani2000B_red
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                            0     
##  2     4 -------------------o-o-o                   0.875 
##  3    13 ------------o-oooooooooo                   0.542 
##  4    17 --++*++++++-++++++-+++-                    0.239 
##  5   163 -o---o---o--o+----------                   0.792 
##  6   210 -++++++++-+++-----------                   0.542 
##  7   233 *+++++++++++o++++++++++o                   0.0208
##  8   242 -----------------------                    1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o        0.571 
## 10  2089 ++++---+--------------o-                   0.75</code></pre>
</div>
</div>
<div id="petitjean_double-blind_2001" class="section level2">
<h2><span class="citation">Petitjean et al. (2001)</span></h2>
<p><strong>Definition</strong>: Weekly proportion of positive UOS
(intent-to-treat and completer analysis)</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsPattern =</span> <span class="fu">recode_missing_visits</span>(usePatternUDS)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">petitjean2001_use =</span> <span class="fu">count_matches</span>(</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsPattern,</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">petitjean2001_abs =</span> <span class="dv">1</span> <span class="sc">-</span> petitjean2001_use</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, petitjean2001_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, petitjean2001_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       petitjean2001_abs
##    &lt;dbl&gt; &lt;chr&gt;                                           &lt;dbl&gt;
##  1     1 ooooooooooooooo                                0     
##  2     4 -------------------o-o-o                       0.875 
##  3    13 ------------o-oooooooooo                       0.542 
##  4    17 --++*++++++-++++++-+++-                        0.239 
##  5   163 -o---o---o--o+----------                       0.792 
##  6   210 -++++++++-+++-----------                       0.542 
##  7   233 *+++++++++++o++++++++++o                       0.0208
##  8   242 -----------------------                        1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o            0.571 
## 10  2089 ++++---+--------------o-                       0.75</code></pre>
</div>
<div id="preston_methadone_2000" class="section level2">
<h2><span class="citation">Preston, Umbricht, and Epstein
(2000)</span></h2>
<p><strong>Definition</strong>: “Mean intervention percent negative”:
Percentage of negative UOS in the treatment phase</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">preston2000_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># 13-week protocol used</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">end =</span> <span class="dv">13</span>,</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, preston2000_red) <span class="sc">%&gt;%</span> </span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, preston2000_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       preston2000_red
##    &lt;dbl&gt; &lt;chr&gt;                                         &lt;dbl&gt;
##  1     1 ooooooooooooooo                              0     
##  2     4 -------------------o-o-o                     1     
##  3    13 ------------o-oooooooooo                     0.923 
##  4    17 --++*++++++-++++++-+++-                      0.269 
##  5   163 -o---o---o--o+----------                     0.692 
##  6   210 -++++++++-+++-----------                     0.154 
##  7   233 *+++++++++++o++++++++++o                     0.0385
##  8   242 -----------------------                      1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o          0.462 
## 10  2089 ++++---+--------------o-                     0.615</code></pre>
</div>
<div id="schottenfeld_methadone_2005" class="section level2">
<h2><span class="citation">Schottenfeld et al. (2005)</span></h2>
<p><strong>Definition</strong>: Proportion of negative UOS; exclude
missing UDS</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Exclude missing</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternPresent =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>            usePatternUDS,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Count negative</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">schottenfeld2005_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternPresent,</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, schottenfeld2005_red) <span class="sc">%&gt;%</span> </span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, schottenfeld2005_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       schottenfeld2005_red
##    &lt;dbl&gt; &lt;chr&gt;                                              &lt;dbl&gt;
##  1     1 ooooooooooooooo                                   0     
##  2     4 -------------------o-o-o                          1     
##  3    13 ------------o-oooooooooo                          1     
##  4    17 --++*++++++-++++++-+++-                           0.239 
##  5   163 -o---o---o--o+----------                          0.95  
##  6   210 -++++++++-+++-----------                          0.542 
##  7   233 *+++++++++++o++++++++++o                          0.0227
##  8   242 -----------------------                           1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o               0.769 
## 10  2089 ++++---+--------------o-                          0.783</code></pre>
</div>
<div id="schwartz_randomized_2006" class="section level2">
<h2><span class="citation">Schwartz et al. (2006)</span></h2>
<p><strong>Definition</strong>: Number of positive UOS at 120-day
follow-up</p>
<p>This definition is a cohort-level definition, not an individual
definition. The individual endpoint would be “was this participant
abstinent from the substance of interest at the 120-day follow-up? (17
weeks from randomization). Our participants do not uniformly have 17
weeks of data, so we will assess them at week 15 instead.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">schwartz2006_abs =</span> <span class="fu">count_matches</span>(</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">start =</span> <span class="dv">15</span>, <span class="at">end =</span> <span class="dv">15</span>,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">schwartz2006_isAbs =</span> schwartz2006_abs <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, schwartz2006_isAbs) <span class="sc">%&gt;%</span> </span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, schwartz2006_isAbs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       schwartz2006_isAbs
##    &lt;dbl&gt; &lt;chr&gt;                               &lt;lgl&gt;             
##  1     1 ooooooooooooooo                     FALSE             
##  2     4 -------------------o-o-o            TRUE              
##  3    13 ------------o-oooooooooo            FALSE             
##  4    17 --++*++++++-++++++-+++-             FALSE             
##  5   163 -o---o---o--o+----------            TRUE              
##  6   210 -++++++++-+++-----------            TRUE              
##  7   233 *+++++++++++o++++++++++o            FALSE             
##  8   242 -----------------------             TRUE              
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o TRUE              
## 10  2089 ++++---+--------------o-            TRUE</code></pre>
</div>
<div id="shufman_efficacy_1994" class="section level2">
<h2><span class="citation">Shufman et al. (1994)</span></h2>
<p><strong>Definition</strong>: Percentage of positive UOS; missing is
ignored</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Count &quot;+&quot; UDS; 0 could be complete dropout or all negative</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">shufman1994_useP =</span> <span class="fu">count_matches</span>(</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">shufman1994_absP =</span> <span class="dv">1</span> <span class="sc">-</span> shufman1994_useP) <span class="sc">%&gt;%</span> </span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, shufman1994_absP) <span class="sc">%&gt;%</span> </span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, schwartz2006_isAbs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       schwartz2006_isAbs
##    &lt;dbl&gt; &lt;chr&gt;                               &lt;lgl&gt;             
##  1     1 ooooooooooooooo                     FALSE             
##  2     4 -------------------o-o-o            TRUE              
##  3    13 ------------o-oooooooooo            FALSE             
##  4    17 --++*++++++-++++++-+++-             FALSE             
##  5   163 -o---o---o--o+----------            TRUE              
##  6   210 -++++++++-+++-----------            TRUE              
##  7   233 *+++++++++++o++++++++++o            FALSE             
##  8   242 -----------------------             TRUE              
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o TRUE              
## 10  2089 ++++---+--------------o-            TRUE</code></pre>
</div>
<div id="soyka_retention_2008" class="section level2">
<h2><span class="citation">Soyka et al. (2008)</span></h2>
<p><strong>Definition</strong>: Monthly rates of positive UOS; missing
is ignored</p>
<p>The paper is <a href="https://pubmed.ncbi.nlm.nih.gov/18205978/">here</a>.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ignore missing UDS</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsPattern =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count &quot;+&quot; UDS; 0 could be complete dropout or all negative</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">soyka2008_use =</span> <span class="fu">count_matches</span>(</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsPattern,</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">soyka2008_abs =</span> <span class="dv">1</span> <span class="sc">-</span> soyka2008_use) <span class="sc">%&gt;%</span> </span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, soyka2008_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, soyka2008_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       soyka2008_abs
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                            1     
##  2     4 -------------------o-o-o                   1     
##  3    13 ------------o-oooooooooo                   1     
##  4    17 --++*++++++-++++++-+++-                    0.239 
##  5   163 -o---o---o--o+----------                   0.95  
##  6   210 -++++++++-+++-----------                   0.542 
##  7   233 *+++++++++++o++++++++++o                   0.0227
##  8   242 -----------------------                    1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o        0.769 
## 10  2089 ++++---+--------------o-                   0.783</code></pre>
</div>
<div id="strain_dose-response_1993" class="section level2">
<h2><span class="citation">Strain et al. (1993)</span></h2>
<p><strong>Definition</strong>: Rate of positive UOS through the end of
the stable dosing period; missing is not defined</p>
<p>Paper <a href="https://doi.org/10.7326/0003-4819-119-1-199307010-00004">here</a></p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Count &quot;+&quot; UDS; 0 could be complete dropout or all negative</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">strain1993_use =</span> <span class="fu">count_matches</span>(</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>            <span class="co"># The stable dosing period began in week 6</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">6</span>, <span class="at">end =</span> <span class="dv">15</span>,</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">strain1993_abs =</span> <span class="dv">1</span> <span class="sc">-</span> strain1993_use) <span class="sc">%&gt;%</span> </span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, strain1993_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, strain1993_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       strain1993_abs
##    &lt;dbl&gt; &lt;chr&gt;                                        &lt;dbl&gt;
##  1     1 ooooooooooooooo                                  1
##  2     4 -------------------o-o-o                         1
##  3    13 ------------o-oooooooooo                         1
##  4    17 --++*++++++-++++++-+++-                         -8
##  5   163 -o---o---o--o+----------                         0
##  6   210 -++++++++-+++-----------                        -6
##  7   233 *+++++++++++o++++++++++o                        -8
##  8   242 -----------------------                          1
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o             -1
## 10  2089 ++++---+--------------o-                         0</code></pre>
</div>
<div id="strain_comparison_1994" class="section level2">
<h2><span class="citation">Strain et al. (1994)</span></h2>
<p><strong>Definition</strong>: Overall rate of positive UOS; missing is
ignored</p>
<p>Paper <a href="https://doi.org/10.1176/ajp.151.7.1025">here</a></p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ignore missing</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsPattern =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Count &quot;+&quot; UDS; 0 could be complete dropout or all negative</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">strain1994_use =</span> <span class="fu">count_matches</span>(</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">strain1994_abs =</span> <span class="dv">1</span> <span class="sc">-</span> strain1994_use) <span class="sc">%&gt;%</span> </span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, strain1994_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, strain1994_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       strain1994_abs
##    &lt;dbl&gt; &lt;chr&gt;                                        &lt;dbl&gt;
##  1     1 ooooooooooooooo                              1    
##  2     4 -------------------o-o-o                     1    
##  3    13 ------------o-oooooooooo                     1    
##  4    17 --++*++++++-++++++-+++-                      0.239
##  5   163 -o---o---o--o+----------                     0.958
##  6   210 -++++++++-+++-----------                     0.542
##  7   233 *+++++++++++o++++++++++o                     0.104
##  8   242 -----------------------                      1    
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o          0.829
## 10  2089 ++++---+--------------o-                     0.792</code></pre>
</div>
<div id="strain_buprenorphine_1996" class="section level2">
<h2><span class="citation">Strain et al. (1996)</span></h2>
<p><strong>Definition</strong>: Percentage of positive UOS – Overall AND
summarized in consecutive 2-week blocks; missing is ignored</p>
<p>Because the “two-weeks blocks” definition results in more than one
value per participant, we do not provide it in our library. This
definition is now identical to that of Strain, Stitzer, Liebson, &amp;
Bigelow (1994).</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ignore missing</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsPattern =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count &quot;+&quot; UDS; 0 could be complete dropout or all negative</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">strain1996_use =</span> <span class="fu">count_matches</span>(</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsPattern,</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">strain1996_abs =</span> <span class="dv">1</span> <span class="sc">-</span> strain1996_use) <span class="sc">%&gt;%</span> </span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, strain1996_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, strain1996_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       strain1996_abs
##    &lt;dbl&gt; &lt;chr&gt;                                        &lt;dbl&gt;
##  1     1 ooooooooooooooo                             1     
##  2     4 -------------------o-o-o                    1     
##  3    13 ------------o-oooooooooo                    1     
##  4    17 --++*++++++-++++++-+++-                     0.239 
##  5   163 -o---o---o--o+----------                    0.95  
##  6   210 -++++++++-+++-----------                    0.542 
##  7   233 *+++++++++++o++++++++++o                    0.0227
##  8   242 -----------------------                     1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o         0.769 
## 10  2089 ++++---+--------------o-                    0.783</code></pre>
</div>
<div id="strain_moderate-_1999" class="section level2">
<h2><span class="citation">Strain et al. (1999)</span></h2>
<p><strong>Definition</strong>: Percentage of positive UOS</p>
<p><a href="https://doi.org/10.1001/jama.281.11.1000">This paper</a>
gave no commentary on <em>how</em> the missing values would be
processed, only that the statistical software SAS was capable of
handling missing values. SAS, by default, <a href="https://documentation.sas.com/doc/en/pgmsascdc/9.4_3.5/proc/n026epq8bpz1f9n10oeb7zen7s1e.htm">excludes
missing values</a> from analyses. Therefore, this definition will also
be identical to that of Strain, Stitzer, Liebson, &amp; Bigelow
(1994).</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ignore missing</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsPattern =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Count &quot;+&quot; UDS; 0 could be complete dropout or all negative</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">strain1999_use =</span> <span class="fu">count_matches</span>(</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">strain1999_abs =</span> <span class="dv">1</span> <span class="sc">-</span> strain1999_use) <span class="sc">%&gt;%</span> </span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, strain1999_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, strain1999_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       strain1999_abs
##    &lt;dbl&gt; &lt;chr&gt;                                        &lt;dbl&gt;
##  1     1 ooooooooooooooo                              1    
##  2     4 -------------------o-o-o                     1    
##  3    13 ------------o-oooooooooo                     1    
##  4    17 --++*++++++-++++++-+++-                      0.239
##  5   163 -o---o---o--o+----------                     0.958
##  6   210 -++++++++-+++-----------                     0.542
##  7   233 *+++++++++++o++++++++++o                     0.104
##  8   242 -----------------------                      1    
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o          0.829
## 10  2089 ++++---+--------------o-                     0.792</code></pre>
</div>
<div id="strang_supervised_2010" class="section level2">
<h2><span class="citation">Strang et al. (2010)</span></h2>
<p><strong>Definitions</strong>: ≥50% negative UOS during weeks
14-26</p>
<p>Our protocols do not uniformly contain 26 weeks of data, so we apply
this definition as “the last 12 weeks of the protocol.”</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">cleanProp =</span> <span class="fu">count_matches</span>(</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Syntax to select the LAST visits uses a negative sign; this means &quot;12</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>            <span class="co">#   weeks before the end of the data&quot; to &quot;the last week of the data&quot;</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="sc">-</span><span class="dv">12</span>, <span class="at">end =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">strang2010_hasRed =</span> cleanProp <span class="sc">&gt;=</span> <span class="fl">0.5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, strang2010_hasRed) <span class="sc">%&gt;%</span> </span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, strang2010_hasRed)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       strang2010_hasRed
##    &lt;dbl&gt; &lt;chr&gt;                               &lt;lgl&gt;            
##  1     1 ooooooooooooooo                     FALSE            
##  2     4 -------------------o-o-o            TRUE             
##  3    13 ------------o-oooooooooo            FALSE            
##  4    17 --++*++++++-++++++-+++-             FALSE            
##  5   163 -o---o---o--o+----------            TRUE             
##  6   210 -++++++++-+++-----------            TRUE             
##  7   233 *+++++++++++o++++++++++o            FALSE            
##  8   242 -----------------------             TRUE             
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o FALSE            
## 10  2089 ++++---+--------------o-            TRUE</code></pre>
</div>
<div id="strang_extended-release_2019" class="section level2">
<h2><span class="citation">Strang et al. (2019)</span></h2>
<p><strong>Definition</strong>: Proportion of negative UOS at the end of
the 12‐week post-randomization time point</p>
<p>Paper <a href="https://pubmed.ncbi.nlm.nih.gov/30702059/">here</a></p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">strang2019_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Only look at the first 12 weeks after randomization</span></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">12</span>,</span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb63-13"><a href="#cb63-13" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb63-14"><a href="#cb63-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb63-15"><a href="#cb63-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, strang2019_red) <span class="sc">%&gt;%</span> </span>
<span id="cb63-16"><a href="#cb63-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb63-17"><a href="#cb63-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-18"><a href="#cb63-18" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb63-19"><a href="#cb63-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb63-20"><a href="#cb63-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, strang2019_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       strang2019_red
##    &lt;dbl&gt; &lt;chr&gt;                                        &lt;dbl&gt;
##  1     1 ooooooooooooooo                             0     
##  2     4 -------------------o-o-o                    1     
##  3    13 ------------o-oooooooooo                    1     
##  4    17 --++*++++++-++++++-+++-                     0.292 
##  5   163 -o---o---o--o+----------                    0.75  
##  6   210 -++++++++-+++-----------                    0.167 
##  7   233 *+++++++++++o++++++++++o                    0.0417
##  8   242 -----------------------                     1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o         0.5   
## 10  2089 ++++---+--------------o-                    0.583</code></pre>
</div>
<div id="tanum_effectiveness_2017" class="section level2">
<h2><span class="citation">Tanum et al. (2017)</span></h2>
<p><strong>Definition</strong>: Rate of negative UOS: Number of negative
UOS divided by the total number of attended tests (group proportion)</p>
<p>Note that this definition as written is a group outcome, not a
participant outcome. Therefore, we calculate this for each subject as
the “rate of negative UOS for the time that the patient remained in the
study.”</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># How long was each subject retained?</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lastWeek_idx =</span> <span class="fu">measure_retention</span>(<span class="at">use_pattern =</span> usePatternUDS)) <span class="sc">%&gt;%</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">tanum2017_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> lastWeek_idx,</span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, tanum2017_red) <span class="sc">%&gt;%</span> </span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, tanum2017_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       tanum2017_red
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                            0     
##  2     4 -------------------o-o-o                   0.913 
##  3    13 ------------o-oooooooooo                   0.929 
##  4    17 --++*++++++-++++++-+++-                    0.239 
##  5   163 -o---o---o--o+----------                   0.792 
##  6   210 -++++++++-+++-----------                   0.542 
##  7   233 *+++++++++++o++++++++++o                   0.0217
##  8   242 -----------------------                    1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o        0.588 
## 10  2089 ++++---+--------------o-                   0.75</code></pre>
</div>
<div id="wolstein_randomized_2009" class="section level2">
<h2><span class="citation">Wolstein et al. (2009)</span></h2>
<p><strong>Definition</strong>: Number of negative UOS per number of
weeks of study participation</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Because we are measuring outcomes only while &quot;participating&quot;, remove missing</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">#   weeks from the use pattern</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">usePatternPresent =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>            usePatternUDS,</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span>   </span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">wolstein2009_red =</span> <span class="fu">count_matches</span>(</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternPresent,</span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Mixed results weeks count as half of a negative week</span></span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>, <span class="at">mixed_weight =</span> <span class="fl">0.5</span>,</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, wolstein2009_red) <span class="sc">%&gt;%</span> </span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, wolstein2009_red)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       wolstein2009_red
##    &lt;dbl&gt; &lt;chr&gt;                                          &lt;dbl&gt;
##  1     1 ooooooooooooooo                               0     
##  2     4 -------------------o-o-o                      1     
##  3    13 ------------o-oooooooooo                      1     
##  4    17 --++*++++++-++++++-+++-                       0.239 
##  5   163 -o---o---o--o+----------                      0.95  
##  6   210 -++++++++-+++-----------                      0.542 
##  7   233 *+++++++++++o++++++++++o                      0.0227
##  8   242 -----------------------                       1     
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o           0.769 
## 10  2089 ++++---+--------------o-                      0.783</code></pre>
</div>
<div id="woody_extended_2008" class="section level2">
<h2><span class="citation">Woody et al. (2008)</span></h2>
<p><strong>Definition</strong>: Percentage of positive UOS at weeks 4,
8, and 12</p>
<p><a href="https://doi.org/10.1001/jama.2008.574">This paper</a>
contains rather exotic methods for missing value imputation, but the
authors remark that setting “missing is positive” did not change their
final results. We may include their imputation method in future versions
of this code library.</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="do">###  Define a Visit Pattern (Lattice)  </span><span class="al">###</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>woodyLattice_char <span class="ot">&lt;-</span> <span class="fu">collapse_lattice</span>(<span class="at">lattice_patterns =</span> <span class="st">&quot;___o&quot;</span>, <span class="at">times =</span> <span class="dv">3</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>woodyLattice_char</span></code></pre></div>
</details>
<pre><code>## [1] &quot;___o___o___o&quot;</code></pre>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="do">###  Calculate the Endpoint  </span><span class="al">###</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Only observe scheduled UDS</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsLattice =</span> <span class="fu">view_by_lattice</span>(</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">lattice_pattern =</span> woodyLattice_char</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the non-protocol weeks</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsLattice2 =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsLattice,</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_is =</span> <span class="st">&quot;_&quot;</span>,</span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Mark missing UDS as &quot;+&quot;</span></span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsLattice3 =</span> <span class="fu">recode_missing_visits</span>(<span class="at">use_pattern =</span> udsLattice2)</span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count &quot;+&quot; UDS; 0 could be complete dropout or all negative</span></span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">woody2008_use =</span> <span class="fu">count_matches</span>(</span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsLattice3,</span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span>,</span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">proportion =</span> <span class="cn">TRUE</span></span>
<span id="cb71-31"><a href="#cb71-31" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb71-32"><a href="#cb71-32" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb71-33"><a href="#cb71-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">woody2008_abs =</span> <span class="dv">1</span> <span class="sc">-</span> woody2008_use) <span class="sc">%&gt;%</span> </span>
<span id="cb71-34"><a href="#cb71-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, woody2008_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb71-35"><a href="#cb71-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb71-36"><a href="#cb71-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-37"><a href="#cb71-37" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb71-38"><a href="#cb71-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb71-39"><a href="#cb71-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, woody2008_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       woody2008_abs
##    &lt;dbl&gt; &lt;chr&gt;                                       &lt;dbl&gt;
##  1     1 ooooooooooooooo                             0    
##  2     4 -------------------o-o-o                    1    
##  3    13 ------------o-oooooooooo                    1    
##  4    17 --++*++++++-++++++-+++-                     0.333
##  5   163 -o---o---o--o+----------                    1    
##  6   210 -++++++++-+++-----------                    0    
##  7   233 *+++++++++++o++++++++++o                    0    
##  8   242 -----------------------                     1    
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o         1    
## 10  2089 ++++---+--------------o-                    0.333</code></pre>
</div>
<div id="zaks_levomethadyl_1972" class="section level2">
<h2><span class="citation">Zaks, Fink, and Freedman (1972)</span></h2>
<p><strong>Definition</strong>: Number of positive UOS; missing is
ignored</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="ot">&lt;-</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>    outcomesRed_df <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Ignore missing</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">udsPattern =</span> <span class="fu">recode_missing_visits</span>(</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> usePatternUDS,</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">missing_becomes =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Count &quot;+&quot; UDS; 0 could be complete dropout or all negative</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">zaks1972_use =</span> <span class="fu">count_matches</span>(</span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">use_pattern =</span> udsPattern,</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">match_is =</span> <span class="st">&quot;+&quot;</span>,</span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">mixed_results_are =</span> <span class="st">&quot;*&quot;</span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># For each participant, the &quot;abstinent&quot; metric is the number of total weeks</span></span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#   of study participation - the number of positive weeks</span></span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">zaks1972_abs =</span> <span class="fu">str_length</span>(udsPattern) <span class="sc">-</span> zaks1972_use) <span class="sc">%&gt;%</span> </span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(who, zaks1972_abs) <span class="sc">%&gt;%</span> </span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(outcomesRed_df, ., <span class="at">by =</span> <span class="st">&quot;who&quot;</span>)</span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a>outcomesRed_df <span class="sc">%&gt;%</span> </span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(who <span class="sc">%in%</span> examplePeople_int) <span class="sc">%&gt;%</span> </span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(who, usePatternUDS, zaks1972_abs)</span></code></pre></div>
</details>
<pre><code>## # A tibble: 10 × 3
##      who usePatternUDS                       zaks1972_abs
##    &lt;dbl&gt; &lt;chr&gt;                                      &lt;dbl&gt;
##  1     1 ooooooooooooooo                              0  
##  2     4 -------------------o-o-o                    21  
##  3    13 ------------o-oooooooooo                    13  
##  4    17 --++*++++++-++++++-+++-                      5.5
##  5   163 -o---o---o--o+----------                    19  
##  6   210 -++++++++-+++-----------                    13  
##  7   233 *+++++++++++o++++++++++o                     0.5
##  8   242 -----------------------                     23  
##  9  1103 ++--oo--o-+-+--o----------o-o-oo++o         20  
## 10  2089 ++++---+--------------o-                    18</code></pre>
<hr />
<p></br></p>
</div>
</div>
<div id="computing-environment" class="section level1">
<h1>Computing Environment</h1>
<p>Here is the information concerning the system configuration,
packages, and their versions used in this computation:</p>
<details class="chunk-details"><summary class="chunk-summary"><span class="chunk-summary-text">Code</span></summary>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
</details>
<pre><code>## R version 4.2.0 (2022-04-22)
## Platform: x86_64-apple-darwin17.0 (64-bit)
## Running under: macOS Big Sur/Monterey 10.16
## 
## Matrix products: default
## BLAS:   /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRblas.0.dylib
## LAPACK: /Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib
## 
## locale:
## [1] C/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] forcats_0.5.1    stringr_1.4.0    dplyr_1.0.9      purrr_0.3.4     
##  [5] readr_2.1.2      tidyr_1.2.0      tibble_3.1.8     ggplot2_3.3.6   
##  [9] tidyverse_1.3.2  kableExtra_1.3.4 readxl_1.4.0     CTNote_0.1.0    
## 
## loaded via a namespace (and not attached):
##  [1] lattice_0.20-45     svglite_2.1.0       lubridate_1.8.0    
##  [4] assertthat_0.2.1    digest_0.6.29       utf8_1.2.2         
##  [7] R6_2.5.1            cellranger_1.1.0    backports_1.4.1    
## [10] reprex_2.0.1        evaluate_0.16       highr_0.9          
## [13] httr_1.4.3          pillar_1.8.0        rlang_1.0.4        
## [16] googlesheets4_1.0.0 rstudioapi_0.13     jquerylib_0.1.4    
## [19] Matrix_1.4-1        rmarkdown_2.14      splines_4.2.0      
## [22] webshot_0.5.3       googledrive_2.0.0   munsell_0.5.0      
## [25] broom_1.0.0         compiler_4.2.0      modelr_0.1.8       
## [28] xfun_0.32           pkgconfig_2.0.3     systemfonts_1.0.4  
## [31] htmltools_0.5.3     tidyselect_1.1.2    fansi_1.0.3        
## [34] viridisLite_0.4.0   crayon_1.5.1        withr_2.5.0        
## [37] tzdb_0.3.0          dbplyr_2.2.1        grid_4.2.0         
## [40] jsonlite_1.8.0      gtable_0.3.0        lifecycle_1.0.1    
## [43] DBI_1.1.3           magrittr_2.0.3      scales_1.2.0       
## [46] cli_3.3.0           stringi_1.7.8       cachem_1.0.6       
## [49] fs_1.5.2            xml2_1.3.3          bslib_0.4.0        
## [52] ellipsis_0.3.2      generics_0.1.3      vctrs_0.4.1        
## [55] tools_4.2.0         glue_1.6.2          hms_1.1.1          
## [58] survival_3.3-1      fastmap_1.1.0       yaml_2.3.5         
## [61] colorspace_2.0-3    gargle_1.2.0        rvest_1.0.2        
## [64] knitr_1.39          haven_2.5.0         sass_0.4.2</code></pre>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-comer_injectable_2006" class="csl-entry">
Comer, Sandra D., Maria A. Sullivan, Elmer Yu, Jami L. Rothenberg,
Herbert D. Kleber, Kyle Kampman, Charles Dackis, and Charles P. O’Brien.
2006. <span>“Injectable, <span>Sustained</span>-<span>Release</span>
<span>Naltrexone</span> for the <span>Treatment</span> of
<span>Opioid</span> <span>Dependence</span>: <span>A</span>
<span>Randomized</span>, <span>Placebo</span>-<span>Controlled</span>
<span>Trial</span>.”</span> <em>Archives of General Psychiatry</em> 63
(2): 210–18. <a href="https://doi.org/10.1001/archpsyc.63.2.210">https://doi.org/10.1001/archpsyc.63.2.210</a>.
</div>
<div id="ref-eissenberg_dose-related_1997" class="csl-entry">
Eissenberg, Thomas, George E. Bigelow, Eric C. Strain, Sharon L. Walsh,
Robert K. Brooner, Maxine L. Stitzer, and Rolley E. Johnson. 1997.
<span>“Dose-<span>Related</span> <span>Efficacy</span> of
<span>Levomethadyl</span> <span>Acetate</span> for
<span>Treatment</span> of <span>Opioid</span> <span>Dependence</span>:
<span>A</span> <span>Randomized</span> <span>Clinical</span>
<span>Trial</span>.”</span> <em>Journal of the American Medical
Association</em> 277 (24): 1945–51. <a href="https://doi.org/10.1001/jama.1997.03540480045037">https://doi.org/10.1001/jama.1997.03540480045037</a>.
</div>
<div id="ref-fiellin_counseling_2006" class="csl-entry">
Fiellin, David A., Michael V. Pantalon, Marek C. Chawarski, Brent A.
Moore, Lynn E. Sullivan, Patrick G. O’Connor, and Richard S.
Schottenfeld. 2006. <span>“Counseling Plus
<span>Buprenorphine</span>–<span>Naloxone</span>
<span>Maintenance</span> <span>Therapy</span> for <span>Opioid</span>
<span>Dependence</span>.”</span> <em>New England Journal of
Medicine</em> 355 (4): 365–74. <a href="https://doi.org/10.1056/NEJMoa055255">https://doi.org/10.1056/NEJMoa055255</a>.
</div>
<div id="ref-fudala_office-based_2003" class="csl-entry">
Fudala, Paul J., T. Peter Bridge, Susan Herbert, William O. Williford,
C. Nora Chiang, Karen Jones, Joseph Collins, et al. 2003.
<span>“Office-<span>Based</span> <span>Treatment</span> of
<span>Opiate</span> <span>Addiction</span> with a
<span>Sublingual</span>-<span>Tablet</span> <span>Formulation</span> of
<span>Buprenorphine</span> and <span>Naloxone</span>.”</span> <em>New
England Journal of Medicine</em> 349 (10): 949–58. <a href="https://doi.org/10.1056/NEJMoa022164">https://doi.org/10.1056/NEJMoa022164</a>.
</div>
<div id="ref-haight_efficacy_2019" class="csl-entry">
Haight, Barbara R, Susan M Learned, Celine M Laffont, Paul J Fudala, Yue
Zhao, Amanda S Garofalo, Mark K Greenwald, et al. 2019. <span>“Efficacy
and Safety of a Monthly Buprenorphine Depot Injection for Opioid Use
Disorder: A Multicentre, Randomised, Double-Blind, Placebo-Controlled,
Phase 3 Trial.”</span> <em>The Lancet</em> 393 (10173): 778–90. <a href="https://doi.org/10.1016/S0140-6736(18)32259-1">https://doi.org/10.1016/S0140-6736(18)32259-1</a>.
</div>
<div id="ref-jaffe_methadyl_1972" class="csl-entry">
Jaffe, Jerome H., Edward C. Senay, Charles R. Schuster, Pierre R.
Renault, Beth Smith, and Salvatore DiMenza. 1972. <span>“Methadyl
<span>Acetate</span> Vs <span>Methadone</span>: <span>A</span>
<span>Double</span>-<span>Blind</span> <span>Study</span> in
<span>Heroin</span> <span>Users</span>.”</span> <em>Journal of the
American Medical Association</em> 222 (4): 437–42. <a href="https://doi.org/10.1001/jama.1972.03210040013004">https://doi.org/10.1001/jama.1972.03210040013004</a>.
</div>
<div id="ref-johnson_controlled_1992" class="csl-entry">
Johnson, Rolley E., Jerome H. Jaffe, and Paul J. Fudala. 1992. <span>“A
<span>Controlled</span> <span>Trial</span> of <span>Buprenorphine</span>
<span>Treatment</span> for <span>Opioid</span>
<span>Dependence</span>.”</span> <em>Journal of the American Medical
Association</em> 267 (20): 2750–55. <a href="https://doi.org/10.1001/jama.1992.03480200058024">https://doi.org/10.1001/jama.1992.03480200058024</a>.
</div>
<div id="ref-kosten_buprenorphine_1993" class="csl-entry">
Kosten, Thomas R., Richard Schottenfeld, Douglas Ziedonis, and Jean
Falcioni. 1993. <span>“Buprenorphine Versus <span>Methadone</span>
<span>Maintenance</span> for <span>Opioid</span>
<span>Dependence</span>.”</span> <em>The Journal of Nervous and Mental
Disease</em> 181 (6): 358–64. <a href="https://doi.org/10.1097/00005053-199306000-00004">https://doi.org/10.1097/00005053-199306000-00004</a>.
</div>
<div id="ref-ling_buprenorphine_2010" class="csl-entry">
Ling, Walter, Paul Casadonte, George Bigelow, Kyle M. Kampman, Ashwin
Patkar, Genie L. Bailey, Richard N. Rosenthal, and Katherine L. Beebe.
2010. <span>“Buprenorphine <span>Implants</span> for
<span>Treatment</span> of <span>Opioid</span> <span>Dependence</span>:
<span>A</span> <span>Randomized</span> <span>Controlled</span>
<span>Trial</span>.”</span> <em>Journal of the American Medical
Association</em> 304 (14): 1576–83. <a href="https://doi.org/10.1001/jama.2010.1427">https://doi.org/10.1001/jama.2010.1427</a>.
</div>
<div id="ref-ling_buprenorphine_1998" class="csl-entry">
Ling, Walter, Charles Charuvastra, Joseph F. Collins, Steve Batki,
Lawrence S. Brown Jr, Prudencia Kintaudi, Donald R. Wesson, et al. 1998.
<span>“Buprenorphine Maintenance Treatment of Opiate Dependence: A
Multicenter, Randomized Clinical Trial.”</span> <em>Addiction</em> 93
(4): 475–86. <a href="https://doi.org/10.1046/j.1360-0443.1998.9344753.x">https://doi.org/10.1046/j.1360-0443.1998.9344753.x</a>.
</div>
<div id="ref-ling_methadyl_1976" class="csl-entry">
Ling, Walter, V. Charles Charuvastra, Samuel C. Kaim, and C. James
Klett. 1976. <span>“Methadyl <span>Acetate</span> and
<span>Methadone</span> as <span>Maintenance</span>
<span>Treatments</span> for <span>Heroin</span> <span>Addicts</span>:
<span>A</span> <span>Veterans</span> <span>Administration</span>
<span>Cooperative</span> <span>Study</span>.”</span> <em>Archives of
General Psychiatry</em> 33 (6): 709–20. <a href="https://doi.org/10.1001/archpsyc.1976.01770060043007">https://doi.org/10.1001/archpsyc.1976.01770060043007</a>.
</div>
<div id="ref-lofwall_weekly_2018" class="csl-entry">
Lofwall, Michelle R., Sharon L. Walsh, Edward V. Nunes, Genie L. Bailey,
Stacey C. Sigmon, Kyle M. Kampman, Michael Frost, et al. 2018.
<span>“Weekly and <span>Monthly</span> <span>Subcutaneous</span>
<span>Buprenorphine</span> <span>Depot</span> <span>Formulations</span>
Vs <span>Daily</span> <span>Sublingual</span> <span>Buprenorphine</span>
<span>With</span> <span>Naloxone</span> for <span>Treatment</span> of
<span>Opioid</span> <span>Use</span> <span>Disorder</span>:
<span>A</span> <span>Randomized</span> <span>Clinical</span>
<span>Trial</span>.”</span> <em>Journal of the American Medical
Association: Internal Medicine</em> 178 (6): 764–73. <a href="https://doi.org/10.1001/jamainternmed.2018.1052">https://doi.org/10.1001/jamainternmed.2018.1052</a>.
</div>
<div id="ref-mattick_buprenorphine_2003" class="csl-entry">
Mattick, Richard P., Robert Ali, Jason M. White, Susannah O’Brien, Seija
Wolk, and Cath Danz. 2003. <span>“Buprenorphine Versus Methadone
Maintenance Therapy: A Randomized Double-Blind Trial with 405
Opioid-Dependent Patients.”</span> <em>Addiction</em> 98 (4): 441–52. <a href="https://doi.org/10.1046/j.1360-0443.2003.00335.x">https://doi.org/10.1046/j.1360-0443.2003.00335.x</a>.
</div>
<div id="ref-pani_buprenorphine_2000" class="csl-entry">
Pani, Pier Paolo, Icro Maremmani, Roberto Pirastu, Alessandro
Tagliamonte, and Gian Luigi Gessa. 2000. <span>“Buprenorphine: A
Controlled Clinical Trial in the Treatment of Opioid Dependence.”</span>
<em>Drug and Alcohol Dependence</em> 60 (1): 39–50. <a href="https://doi.org/10.1016/S0376-8716(00)80006-X">https://doi.org/10.1016/S0376-8716(00)80006-X</a>.
</div>
<div id="ref-petitjean_double-blind_2001" class="csl-entry">
Petitjean, Sylvie, Rudolf Stohler, Jean-Jacques Déglon, Santino Livoti,
Doris Waldvogel, Claude Uehlinger, and Dieter Ladewig. 2001.
<span>“Double-Blind Randomized Trial of Buprenorphine and Methadone in
Opiate Dependence.”</span> <em>Drug and Alcohol Dependence</em> 62 (1):
97–104. <a href="https://doi.org/10.1016/S0376-8716(00)00163-0">https://doi.org/10.1016/S0376-8716(00)00163-0</a>.
</div>
<div id="ref-preston_methadone_2000" class="csl-entry">
Preston, Kenzie L., Annie Umbricht, and David H. Epstein. 2000.
<span>“Methadone <span>Dose</span> <span>Increase</span> and
<span>Abstinence</span> <span>Reinforcement</span> for
<span>Treatment</span> of <span>Continued</span> <span>Heroin</span>
<span>Use</span> <span>During</span> <span>Methadone</span>
<span>Maintenance</span>.”</span> <em>Archives of General
Psychiatry</em> 57 (4): 395–404. <a href="https://doi.org/10.1001/archpsyc.57.4.395">https://doi.org/10.1001/archpsyc.57.4.395</a>.
</div>
<div id="ref-schottenfeld_methadone_2005" class="csl-entry">
Schottenfeld, Richard S., Marek C. Chawarski, Juliana R. Pakes, Michael
V. Pantalon, Kathleen M. Carroll, and Thomas R. Kosten. 2005.
<span>“Methadone <span>Versus</span> <span>Buprenorphine</span>
<span>With</span> <span>Contingency</span> <span>Management</span> or
<span>Performance</span> <span>Feedback</span> for <span>Cocaine</span>
and <span>Opioid</span> <span>Dependence</span>.”</span> <em>American
Journal of Psychiatry</em> 162 (2): 340–49. <a href="https://doi.org/10.1176/appi.ajp.162.2.340">https://doi.org/10.1176/appi.ajp.162.2.340</a>.
</div>
<div id="ref-schwartz_randomized_2006" class="csl-entry">
Schwartz, Robert P., David A. Highfield, Jerome H. Jaffe, Joseph V.
Brady, Carol B. Butler, Charles O. Rouse, Jason M. Callaman, Kevin E.
O’Grady, Peter J. Koudstaal, and Monique M. B. Breteler. 2006. <span>“A
<span>Randomized</span> <span>Controlled</span> <span>Trial</span> of
<span>Interim</span> <span>Methadone</span>
<span>Maintenance</span>.”</span> <em>Archives of General
Psychiatry</em> 63 (1). <a href="https://doi.org/10.1001/archpsyc.63.1.102">https://doi.org/10.1001/archpsyc.63.1.102</a>.
</div>
<div id="ref-shufman_efficacy_1994" class="csl-entry">
Shufman, Emi N., Shai Porat, Eliezer Witztum, Dan Gandacu, Rachel
Bar-Hamburger, and Yigal Ginath. 1994. <span>“The Efficacy of Naltrexone
in Preventing Reabuse of Heroin After Detoxification.”</span>
<em>Biological Psychiatry</em> 35 (12): 935–45. <a href="https://doi.org/10.1016/0006-3223(94)91240-8">https://doi.org/10.1016/0006-3223(94)91240-8</a>.
</div>
<div id="ref-soyka_retention_2008" class="csl-entry">
Soyka, Michael, Christina Zingg, Gabriele Koller, and Heinrich Kuefner.
2008. <span>“Retention Rate and Substance Use in Methadone and
Buprenorphine Maintenance Therapy and Predictors of Outcome: Results
from a Randomized Study.”</span> <em>International Journal of
Neuropsychopharmacology</em> 11 (5): 641–53. <a href="https://doi.org/10.1017/S146114570700836X">https://doi.org/10.1017/S146114570700836X</a>.
</div>
<div id="ref-strain_moderate-_1999" class="csl-entry">
Strain, Eric C., George E. Bigelow, Ira A. Liebson, and Maxine L.
Stitzer. 1999. <span>“Moderate- Vs <span>High</span>-<span>Dose</span>
<span>Methadone</span> in the <span>Treatment</span> of
<span>Opioid</span> <span>DependenceA</span> <span>Randomized</span>
<span>Trial</span>.”</span> <em>Journal of the American Medical
Association</em> 281 (11): 1000–1005. <a href="https://doi.org/10.1001/jama.281.11.1000">https://doi.org/10.1001/jama.281.11.1000</a>.
</div>
<div id="ref-strain_dose-response_1993" class="csl-entry">
Strain, Eric C., Maxine L. Stitzer, Ira A. Liebson, and George E.
Bigelow. 1993. <span>“Dose-<span>Response</span> <span>Effects</span> of
<span>Methadone</span> in the <span>Treatment</span> of
<span>Opioid</span> <span>Dependence</span>.”</span> <em>Annals of
Internal Medicine</em> 119 (1): 23–27. <a href="https://doi.org/10.7326/0003-4819-119-1-199307010-00004">https://doi.org/10.7326/0003-4819-119-1-199307010-00004</a>.
</div>
<div id="ref-strain_comparison_1994" class="csl-entry">
———. 1994. <span>“Comparison of Buprenorphine and Methadone in the
Treatment of Opioid Dependence.”</span> <em>The American Journal of
Psychiatry</em> 151 (July): 1025–30. <a href="https://doi.org/10.1176/ajp.151.7.1025">https://doi.org/10.1176/ajp.151.7.1025</a>.
</div>
<div id="ref-strain_buprenorphine_1996" class="csl-entry">
———. 1996. <span>“Buprenorphine <span>Versus</span>
<span>Methadone</span> in the <span>Treatment</span> of
<span>Opioid</span> <span>Dependence</span>:
<span>Self</span>-<span>Reports</span>, <span>Urinalysis</span>, and
<span>Addiction</span> <span>Severity</span> <span>Index</span>.”</span>
<em>Journal of Clinical Psychopharmacology</em> 16 (1): 58–67. <a href="https://doi.org/10.1097/00004714-199602000-00010">https://doi.org/10.1097/00004714-199602000-00010</a>.
</div>
<div id="ref-strang_extended-release_2019" class="csl-entry">
Strang, John, Michael Kelleher, Soraya Mayet, Ed Day, Jennifer Hellier,
Sarah Byford, Caroline Murphy, et al. 2019. <span>“Extended-Release
Naltrexone Versus Standard Oral Naltrexone Versus Placebo for Opioid Use
Disorder: The <span>NEAT</span> Three-Arm <span>RCT</span>.”</span>
<em>Health Technology Assessment</em> 23 (3): 1–72. <a href="https://doi.org/10.3310/hta23030">https://doi.org/10.3310/hta23030</a>.
</div>
<div id="ref-strang_supervised_2010" class="csl-entry">
Strang, John, Nicola Metrebian, Nicholas Lintzeris, Laura Potts, Tom
Carnwath, Soraya Mayet, Hugh Williams, et al. 2010. <span>“Supervised
Injectable Heroin or Injectable Methadone Versus Optimised Oral
Methadone as Treatment for Chronic Heroin Addicts in
<span>England</span> After Persistent Failure in Orthodox Treatment
(<span>RIOTT</span>): A Randomised Trial.”</span> <em>The Lancet</em>
375 (9729): 1885–95. <a href="https://doi.org/10.1016/S0140-6736(10)60349-2">https://doi.org/10.1016/S0140-6736(10)60349-2</a>.
</div>
<div id="ref-tanum_effectiveness_2017" class="csl-entry">
Tanum, Lars, Kristin Klemmetsby Solli, Zill-e-Huma Latif, Jūratė Šaltytė
Benth, Arild Opheim, Kamni Sharma-Haase, Peter Krajci, and Nikolaj
Kunøe. 2017. <span>“Effectiveness of <span>Injectable</span>
<span>Extended</span>-<span>Release</span> <span>Naltrexone</span> Vs
<span>Daily</span> <span>Buprenorphine</span>-<span>Naloxone</span> for
<span>Opioid</span> <span>Dependence</span>: <span>A</span>
<span>Randomized</span> <span>Clinical</span>
<span>Noninferiority</span> <span>Trial</span>.”</span> <em>Journal of
the American Medical Association: Psychiatry</em> 74 (12): 1197–1205. <a href="https://doi.org/10.1001/jamapsychiatry.2017.3206">https://doi.org/10.1001/jamapsychiatry.2017.3206</a>.
</div>
<div id="ref-wolstein_randomized_2009" class="csl-entry">
Wolstein, J., M. Gastpar, T. Finkbeiner, C. Heinrich, R. Heitkamp, T.
Poehlke, and N. Scherbaum. 2009. <span>“A <span>Randomized</span>,
<span>Open</span>-Label <span>Trial</span> <span>Comparing</span>
<span>Methadone</span> and
<span>Levo</span>-<span>Alpha</span>-<span>Acetylmethadol</span>
(<span>LAAM</span>) in <span>Maintenance</span> <span>Treatment</span>
of <span>Opioid</span> <span>Addiction</span>.”</span>
<em>Pharmacopsychiatry</em> 42 (01): 1–8. <a href="https://doi.org/10.1055/s-0028-1083818">https://doi.org/10.1055/s-0028-1083818</a>.
</div>
<div id="ref-woody_extended_2008" class="csl-entry">
Woody, George E., Sabrina A. Poole, Geetha Subramaniam, Karen Dugosh,
Michael Bogenschutz, Patrick Abbott, Ashwin Patkar, et al. 2008.
<span>“Extended Vs <span>Short</span>-Term
<span>Buprenorphine</span>-<span>Naloxone</span> for
<span>Treatment</span> of <span>Opioid</span>-<span>Addicted</span>
<span>Youth</span>: <span>A</span> <span>Randomized</span>
<span>Trial</span>.”</span> <em>Journal of the American Medical
Association</em> 300 (17). <a href="https://doi.org/10.1001/jama.2008.574">https://doi.org/10.1001/jama.2008.574</a>.
</div>
<div id="ref-zaks_levomethadyl_1972" class="csl-entry">
Zaks, Arthur, Max Fink, and Alfred M. Freedman. 1972.
<span>“Levomethadyl in <span>Maintenance</span> <span>Treatment</span>
of <span>Opiate</span> <span>Dependence</span>.”</span> <em>Journal of
the American Medical Association</em> 220 (6): 811–13. <a href="https://doi.org/10.1001/jama.1972.03200060039005">https://doi.org/10.1001/jama.1972.03200060039005</a>.
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
